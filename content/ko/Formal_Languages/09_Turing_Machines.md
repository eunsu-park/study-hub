# 레슨 9: 튜링 기계(Turing Machines)

**이전**: [문맥 자유 언어의 성질](./08_Properties_of_Context_Free_Languages.md) | **다음**: [결정 가능성](./10_Decidability.md)

## 학습 목표

이 레슨을 마치면 다음을 할 수 있습니다:

1. 튜링 기계를 형식적으로 정의한다
2. 예제 입력에 대한 TM 계산 과정을 추적한다
3. TM의 변형 모델과 그 동치성을 이해한다
4. 처치-튜링 논제(Church-Turing Thesis)와 그 함의를 기술한다
5. 결정 가능 언어(decidable language)와 인식 가능 언어(recognizable language)를 구별한다

## 1. 동기

유한 오토마톤(유한 메모리)과 푸시다운 오토마톤(스택 메모리)은 표현 능력에 한계가 있다. **튜링 기계(Turing machine)**는 **무한 테이프**, 즉 제약 없는 읽기/쓰기 메모리를 갖추고 있어 직관적으로 "계산 가능한" 모든 것을 계산할 수 있다.

튜링 기계는 계산 가능성 이론(computability theory)의 토대이며, 컴퓨터가 할 수 있는 것과 없는 것의 경계를 정의한다.

> **비유 -- 무한한 메모지(Infinite Scratch Paper).** 튜링 기계는 무한한 메모지, 연필, 지우개, 그리고 간단한 규칙서를 가진 사람의 이론적 동치물이다. 이 사람은 기호 하나를 읽고 규칙서를 참조한 뒤 새 기호를 쓰고 좌우로 이동한다. 이 단순함에도 불구하고, 처치(Church)와 튜링(Turing)은 어떤 알고리즘으로든 계산 가능한 모든 것을 이 사람이 계산할 수 있음을 증명했다 — 튜링 기계를 계산 가능성의 보편적 척도로 만든 셈이다.

## 2. 형식적 정의

**튜링 기계(TM)**는 7-튜플 $M = (Q, \Sigma, \Gamma, \delta, q_0, q_{accept}, q_{reject})$로 정의되며, 각 구성 요소는 다음과 같다:

| 구성 요소 | 설명 |
|-----------|------|
| $Q$ | 유한한 상태 집합 |
| $\Sigma$ | 입력 알파벳 (공백 기호 $\sqcup$ 미포함) |
| $\Gamma$ | 테이프 알파벳 ($\sqcup \in \Gamma$이고 $\Sigma \subset \Gamma$) |
| $\delta: Q \times \Gamma \to Q \times \Gamma \times \{L, R\}$ | 전이 함수 |
| $q_0 \in Q$ | 시작 상태 |
| $q_{accept} \in Q$ | 수락 상태(accept state) |
| $q_{reject} \in Q$ | 거부 상태(reject state) ($q_{reject} \neq q_{accept}$) |

전이 $\delta(q, a) = (r, b, D)$의 의미: 상태 $q$에서 기호 $a$를 읽으면, $b$를 쓰고 헤드를 방향 $D \in \{L, R\}$으로 이동한 뒤 상태 $r$로 진입한다.

기계는 $q_{accept}$ 또는 $q_{reject}$에 진입하는 즉시 정지한다.

## 3. 계산

### 3.1 형상(Configuration)

TM의 **형상(configuration)**은 현재 스냅샷이다: $uqv$ 형태로 표현되며:
- $u \in \Gamma^*$: 헤드 왼쪽의 테이프 내용
- $q \in Q$: 현재 상태
- $v \in \Gamma^+$: 헤드 위치부터 오른쪽의 테이프 내용

헤드는 $v$의 첫 번째 기호를 스캔하고 있다.

### 3.2 계산 단계

형상 $C_1$이 한 번의 전이를 통해 $C_2$를 만들면 $C_1$이 $C_2$를 **산출(yield)**한다고 하며, $C_1 \vdash C_2$로 표기한다.

예: $\delta(q, b) = (r, c, R)$이면, $uaq\mathbf{b}v \vdash uacr\mathbf{v}$.

### 3.3 수락, 거부, 루프

입력 $w$에 대해 TM은 다음 세 가지 중 하나를 수행한다:
- **수락(Accept)**: $q_{accept}$에 진입 (정지)
- **거부(Reject)**: $q_{reject}$에 진입 (정지)
- **루프(Loop)**: 정지하지 않고 영원히 실행

이 세 가지 결과(수락/거부/루프)의 구분은 매우 중요하다 — **결정 가능(decidable)**과 **인식 가능(recognizable)**을 구별하는 이유가 여기에 있다.

## 4. 언어와 결정 가능성(Decidability)

### 4.1 튜링 인식 가능(Turing-Recognizable) (재귀 열거 가능)

언어 $L$이 **튜링 인식 가능(Turing-recognizable)** (또는 **재귀 열거 가능(recursively enumerable)**, RE)하다는 것은, 다음을 만족하는 TM $M$이 존재함을 의미한다:
- $w \in L \Rightarrow M$이 $w$를 수락
- $w \notin L \Rightarrow M$이 $w$를 거부하거나 루프

### 4.2 튜링 결정 가능(Turing-Decidable) (재귀적)

언어 $L$이 **튜링 결정 가능(Turing-decidable)** (또는 **재귀적(recursive)**, 혹은 단순히 **결정 가능(decidable)**)하다는 것은, 모든 입력에 대해 정지하며 다음을 만족하는 TM $M$이 존재함을 의미한다:
- $w \in L \Rightarrow M$이 $w$를 수락
- $w \notin L \Rightarrow M$이 $w$를 거부

이러한 TM을 **결정기(decider)**라고 한다.

### 4.3 계층 구조

$$\text{정규(Regular)} \subsetneq \text{문맥 자유(Context-Free)} \subsetneq \text{결정 가능(Decidable)} \subsetneq \text{인식 가능(Recognizable)} \subsetneq \text{모든 언어(All Languages)}$$

## 5. TM 설계 예제

### 5.1 $L = \{0^n 1^n 2^n \mid n \geq 0\}$

**전략:** 0 하나, 1 하나, 2 하나를 반복해서 표시한다. 모두 동시에 표시되면 수락한다.

```
1. 오른쪽으로 스캔. 테이프가 공백이면 수락 (n=0 경우).
2. 현재 기호가 0이면 표시 (X 쓰기). 오른쪽으로 이동하여 표시되지 않은 1을 찾는다.
3. 그 1을 표시 (Y 쓰기). 오른쪽으로 이동하여 표시되지 않은 2를 찾는다.
4. 그 2를 표시 (Z 쓰기). 왼쪽으로 시작 위치까지 이동.
5. 2단계부터 반복.
6. 표시되지 않은 0이 없으면, 오른쪽으로 스캔하여 표시되지 않은 1이나 2가 없는지 확인.
7. 확인되면 수락. 그렇지 않으면 거부.
```

이 TM은 $O(n^2)$ 시간에 실행된다 — $n$번의 패스를 수행하며, 각 패스마다 $O(n)$ 테이프 셀을 스캔한다.

### 5.2 $L = \{w\#w \mid w \in \{0,1\}^*\}$ (문자열 매칭)

**전략:** 두 복사본 사이를 지그재그로 오가며 기호를 하나씩 비교한다.

```
1. # 앞에서 표시되지 않은 첫 번째 기호를 읽고 표시한다.
2. #를 건너 # 뒤의 대응 위치를 찾는다.
3. 기호가 일치하면 표시하고 왼쪽으로 돌아간다. 불일치하면 거부.
4. # 앞의 모든 기호가 표시될 때까지 반복.
5. # 뒤의 모든 기호도 표시되었는지 확인. 그렇다면 수락.
```

### 5.3 $L = \{w \mid w \text{는 이진 팰린드롬(binary palindrome)}\}$

**전략:** 첫 번째와 마지막 기호를 비교하면서 문자열을 줄여나간다.

```
1. 가장 왼쪽 기호를 읽고 기억한 후 표시한다.
2. 오른쪽으로 스캔하여 가장 오른쪽의 표시되지 않은 기호를 찾는다.
3. 일치하면 표시하고 1단계로 돌아간다.
4. 불일치하면 거부.
5. 모든 기호가 표시되면 수락.
```

## 6. TM의 변형 모델

### 6.1 다테이프 튜링 기계(Multitape Turing Machine)

각각 독립적인 헤드를 갖는 $k$개의 테이프를 가진다. 전이: $\delta: Q \times \Gamma^k \to Q \times \Gamma^k \times \{L, R, S\}^k$.

**정리.** 모든 다테이프 TM은 동치인 단일 테이프 TM을 가진다.

*증명 아이디어:* 구분자로 내용을 교차 배치하여 $k$개의 테이프를 하나의 테이프 위에 시뮬레이션한다. 헤드 위치는 점 기호로 표시한다. $k$-테이프 TM의 각 단계는 단일 테이프 한 번 스캔에 해당한다.

**시간 증가:** $t(n)$-시간 $k$-테이프 TM은 단일 테이프에서 $O(t(n)^2)$ 시간으로 시뮬레이션 가능하다.

### 6.2 비결정적 튜링 기계(Nondeterministic Turing Machine)

전이 함수가 집합을 반환한다: $\delta: Q \times \Gamma \to \mathcal{P}(Q \times \Gamma \times \{L, R\})$.

**정리.** 모든 비결정적 TM은 동치인 결정적 TM을 가진다.

*증명 아이디어:* 3-테이프 DTM 위에서 너비 우선 탐색(BFS)을 사용하여 NTM의 계산 트리를 시뮬레이션한다.

**유한 오토마톤과의 핵심 차이:** NTM은 표현 능력을 추가하지 않지만(NFA와 마찬가지로), 시뮬레이션에 **지수적** 시간 오버헤드가 발생하며 이는 복잡도 이론에서 중요하다.

### 6.3 기타 변형 모델

| 변형 | 표준 TM과 동치? |
|------|----------------|
| 양방향 무한 테이프(Two-way infinite tape) | 예 |
| 다중 헤드 TM(Multi-head TM) | 예 |
| 다차원 테이프(Multi-dimensional tape) | 예 |
| 임의 접근 TM(Random access TM) | 예 |
| 카운터 기계(Counter machines, 2개 이상) | 예 |
| 큐 오토마톤(Queue automata) | 예 |

이 모든 변형 모델은 정확히 동일한 언어 클래스, 즉 튜링 인식 가능 언어를 인식한다.

## 7. 처치-튜링 논제(Church-Turing Thesis)

**논제:** 튜링 기계로 계산 가능한 함수의 클래스는 "효과적으로 계산 가능한(effectively computable)" 함수(임의의 알고리즘 방법에 의한)의 클래스와 정확히 일치한다.

이것은 **논제(thesis)**이지 정리(theorem)가 아니다 — "효과적으로 계산 가능하다"는 비형식적 개념이기 때문에 증명할 수 없다. 그러나:
- 모든 제안된 형식적 계산 모델(람다 계산법(lambda calculus), 재귀 함수(recursive functions), 포스트 시스템(Post systems), 레지스터 기계(register machines) 등)이 튜링 기계와 동치임이 밝혀졌다
- 반례가 발견된 바 없다
- 컴퓨터 과학에서 보편적으로 수용된다

**함의:** 어떤 함수가 튜링 기계로 계산될 수 없다면, **어떠한** 알고리즘으로도 **어떠한** 컴퓨터에서도 계산할 수 없다.

## 8. 범용 튜링 기계(Universal Turing Machine)

**범용 튜링 기계(Universal Turing Machine)** $U$는 TM $M$의 기술 $\langle M, w \rangle$과 문자열 $w$를 입력으로 받아 $M$을 $w$ 위에서 시뮬레이션한다.

- $M$이 $w$를 수락하면 $U$는 $\langle M, w \rangle$을 수락
- $M$이 $w$를 거부하면 $U$는 $\langle M, w \rangle$을 거부
- $M$이 $w$에서 루프하면 $U$는 $\langle M, w \rangle$에서 루프

범용 TM은 저장 프로그램 컴퓨터(stored-program computer)의 이론적 토대이다: 임의의 다른 기계를 시뮬레이션할 수 있는 단일 기계.

## 9. 튜링 기계의 인코딩(Encoding)

TM을 입력으로 다루기 위해서는 TM을 어떤 고정 알파벳(예: $\{0, 1\}$) 위의 문자열로 표현하는 인코딩 방법 $\langle M \rangle$이 필요하다.

합리적인 인코딩이라면 어느 것이든 동작한다(다항 시간 내에 변환 가능). 표기법:
- $\langle M \rangle$: TM $M$의 인코딩
- $\langle M, w \rangle$: TM $M$과 입력 $w$의 인코딩
- $\langle G \rangle$: 문법 $G$의 인코딩

## 연습 문제

### 연습 1: TM 설계

다음에 대한 튜링 기계를 설계하라 (상위 수준 알고리즘으로 기술):

1. $L = \{a^{2^n} \mid n \geq 0\}$ (길이가 2의 거듭제곱인 $a$ 문자열)
2. 덧셈: $0^m 1 0^n$이 주어질 때, 테이프에 $0^{m+n}$을 생성
3. $L = \{w\#w\#w \mid w \in \{a,b\}^*\}$ (세 번 복사)

### 연습 2: 다테이프 시뮬레이션

2-테이프 TM이 $O(n)$ 시간에 $\{0^n 1^n 2^n \mid n \geq 0\}$을 인식하는 방법을 기술하라 (단일 테이프의 $O(n^2)$와 비교). 단일 테이프 시뮬레이션의 시간 오버헤드는 얼마인가?

### 연습 3: 처치-튜링 논제

변수, 조건문, 반복문, 배열을 갖는 프로그래밍 언어를 고려하자. 이 언어에서 계산 가능한 임의의 함수가 튜링 기계로도 계산 가능함을 비형식적으로 논증하라. (힌트: 각 언어 구성 요소를 어떻게 시뮬레이션하겠는가?)

---

*이전: [레슨 8 — 문맥 자유 언어의 성질](08_Properties_of_Context_Free_Languages.md) | 다음: [레슨 10 — 결정 가능성](10_Decidability.md)*
