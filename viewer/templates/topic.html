{% extends "base.html" %}

{% block title %}{{ display_name }} - Study Viewer{% endblock %}

{% block header %}
<nav class="breadcrumb">
    <a href="{{ url_for('index', lang=lang) }}">Topics</a>
    <span class="separator">/</span>
    <span class="current">{{ display_name }}</span>
</nav>
<h1>{{ display_name }}</h1>
<div class="header-meta">
    <span class="lesson-count">{{ lessons|length }} lessons</span>
    <span class="progress-badge">{{ progress.percentage }}% complete</span>
</div>
{% endblock %}

{% block content %}
<div class="topic-progress-header">
    <div class="progress-bar large">
        <div class="progress-fill" style="width: {{ progress.percentage }}%"></div>
    </div>
    <span class="progress-text">{{ progress.read }} of {{ progress.total }} lessons completed</span>
</div>

<div class="lessons-list">
    {% for lesson in lessons %}
    <a href="{{ url_for('lesson', lang=lang, name=topic, filename=lesson.filename) }}" class="lesson-item {% if lesson.is_read %}read{% endif %}">
        <div class="lesson-status">
            {% if lesson.is_read %}
            <span class="status-icon read" title="Read">âœ“</span>
            {% else %}
            <span class="status-icon unread" title="Unread">â—‹</span>
            {% endif %}
        </div>
        <div class="lesson-info">
            <h3 class="lesson-title">{{ lesson.title or lesson.display_name }}</h3>
            <span class="lesson-filename">{{ lesson.filename }}</span>
        </div>
        <div class="lesson-actions">
            {% if lesson.is_bookmarked %}
            <span class="bookmark-icon active" title="Bookmarked">ðŸ”–</span>
            {% endif %}
        </div>
    </a>
    {% endfor %}
</div>
{% endblock %}
